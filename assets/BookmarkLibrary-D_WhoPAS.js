const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BookmarkModal-mujQaaAY.js","assets/index-DboLLwwP.js","assets/vendor-B7FnPyzq.js","assets/index-DZ4kiucw.css"])))=>i.map(i=>d[i]);
import{c as M,r as i,d as x,j as e,a4 as I,G as h,m as O,_ as P,E as N}from"./index-DboLLwwP.js";import{C as U}from"./CollectionHeader-C_4O6W4b.js";import"./vendor-B7FnPyzq.js";import"./arrow-left-D3hN5_uF.js";import"./search-DXFRVerH.js";import"./layout-grid-UR75HWh0.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],z=M("pen",R),V=O.lazy(()=>P(()=>import("./BookmarkModal-mujQaaAY.js"),__vite__mapDeps([0,1,2,3]))),K=({onBack:b})=>{const[p,y]=i.useState([]),[u,w]=i.useState([]),[$,C]=i.useState([]),[g,c]=i.useState(null),[d,S]=i.useState(""),[m,L]=i.useState("grid"),[a,_]=i.useState("title");i.useEffect(()=>{f()},[]);const f=async()=>{const[t,s,r]=await Promise.all([x.getBookmarks(),x.getCategories(),x.getTags()]);y(t),w(s),C(r)},B=async t=>{await x.saveBookmark(t),c(null),f()},o=i.useMemo(()=>p.filter(t=>t.title.toLowerCase().includes(d.toLowerCase())||t.url.toLowerCase().includes(d.toLowerCase())),[p,d]),j=i.useMemo(()=>{if(a==="date")return null;const t={};o.forEach(r=>{const n=r.title.charAt(0).toUpperCase(),l=/[A-Z]/.test(n)?n:"#";t[l]||(t[l]=[]),t[l].push(r)});const s=Object.keys(t).sort();return s[0]==="#"&&(s.shift(),s.push("#")),s.reduce((r,n)=>(r[n]=t[n].sort((l,A)=>l.title.localeCompare(A.title)),r),{})},[o,a]),v=i.useMemo(()=>{const t=[...o];return a==="date"?t.sort((s,r)=>r.createdAt-s.createdAt):t.sort((s,r)=>s.title.localeCompare(r.title)),t},[o,a]),k=t=>{const s=u.find(r=>r.id===t.categoryId);return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4 hover:border-indigo-500 transition-colors group flex flex-col gap-3 relative shadow-sm hover:shadow-lg",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[t.faviconUrl?e.jsx("img",{src:t.faviconUrl,alt:"",className:"w-6 h-6 rounded-sm bg-white"}):e.jsx("div",{className:"w-6 h-6 rounded-sm bg-zinc-800 flex items-center justify-center text-zinc-500",children:e.jsx(h,{size:14})}),e.jsx("h3",{className:"text-sm font-bold text-zinc-200 truncate group-hover:text-white transition-colors",children:t.title})]})}),e.jsx("div",{className:"flex-1 min-h-[3em]",children:t.description?e.jsx("p",{className:"text-[10px] text-zinc-500 line-clamp-3 leading-relaxed",children:t.description}):e.jsx("p",{className:"text-[10px] text-zinc-600 italic",children:"No description."})}),e.jsxs("div",{className:"mt-auto pt-3 border-t border-zinc-800/50 flex items-center justify-between",children:[e.jsx("div",{className:"flex gap-1 overflow-hidden",children:s&&e.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded border ${s.color?`text-${s.color}-500 border-${s.color}-500/20 bg-${s.color}-500/10`:"text-zinc-500 border-zinc-700"}`,children:s.name})}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>c(t),className:"p-1.5 hover:bg-zinc-800 rounded text-zinc-500 hover:text-white",title:"Edit",children:e.jsx(z,{size:12})}),e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 hover:bg-indigo-500/20 rounded text-indigo-400 hover:text-indigo-300",title:"Open Link",children:e.jsx(N,{size:12})})]})]})]},t.id)},E=t=>{const s=u.find(r=>r.id===t.categoryId);return e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-zinc-900 border border-zinc-800 hover:border-indigo-500 rounded-lg transition-all group",children:[e.jsx("div",{className:"w-8 h-8 rounded bg-zinc-800 flex items-center justify-center shrink-0",children:t.faviconUrl?e.jsx("img",{src:t.faviconUrl,className:"w-5 h-5"}):e.jsx(h,{size:16,className:"text-zinc-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-bold text-zinc-200 truncate",children:t.title}),e.jsx("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"text-zinc-600 hover:text-indigo-400",children:e.jsx(N,{size:10})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s&&e.jsx("span",{className:"text-[9px] px-1.5 rounded border text-zinc-500 border-zinc-800",children:s.name}),e.jsx("span",{className:"text-[10px] text-zinc-600 truncate",children:t.url})]})]}),e.jsx("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:()=>c(t),className:"p-2 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded",children:e.jsx(z,{size:14})})})]},t.id)};return e.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-300",children:[e.jsx(i.Suspense,{fallback:null,children:g&&e.jsx(V,{onClose:()=>c(null),onSave:B,existingBookmark:g})}),e.jsx(U,{title:"Bookmark Library",subtitle:"All saved resources and links",icon:e.jsx(I,{size:24}),onBack:b,searchValue:d,onSearchChange:S,searchPlaceholder:"Search bookmarks...",viewMode:m,onViewChange:L,sortMode:a,onSortChange:t=>_(t),sortOptions:[{label:"Alphabetical (A-Z)",value:"title"},{label:"Recently Added",value:"date"}]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:o.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-zinc-600",children:[e.jsx(h,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{children:"No bookmarks found."})]}):e.jsxs(e.Fragment,{children:[m==="list"&&e.jsx("div",{className:"space-y-2 max-w-4xl mx-auto",children:v.map(E)}),m==="grid"&&e.jsxs(e.Fragment,{children:[a==="title"&&j&&Object.entries(j).map(([t,s])=>e.jsxs("div",{className:"flex gap-6 mb-8 animate-in slide-in-from-left-4 duration-300",children:[e.jsx("div",{className:"w-8 shrink-0 pt-2",children:e.jsx("span",{className:"text-2xl font-bold text-zinc-700 font-mono sticky top-0",children:t})}),e.jsx("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(k)})]},t)),a==="date"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 animate-in fade-in duration-300",children:v.map(k)})]})]})})]})};export{K as default};
