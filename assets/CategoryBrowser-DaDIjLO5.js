import{r as n,s as N,n as h,j as e,h as u,u as w,o as z}from"./index-DboLLwwP.js";import{C}from"./CollectionHeader-C_4O6W4b.js";import{S}from"./search-DXFRVerH.js";import"./vendor-B7FnPyzq.js";import"./arrow-left-D3hN5_uF.js";import"./layout-grid-UR75HWh0.js";const D=({category:r,notes:c,tags:x,onSelectNote:m,onBack:f})=>{const[p,g]=n.useState("grid"),[l,j]=n.useState(""),[i,b]=n.useState("updated"),d=n.useMemo(()=>{let t=c.filter(s=>s.title.toLowerCase().includes(l.toLowerCase())||s.content.toLowerCase().includes(l.toLowerCase()));return t.sort((s,a)=>i==="title"?s.title.localeCompare(a.title):i==="created"?a.createdAt-s.createdAt:a.updatedAt-s.updatedAt),t},[c,l,i]),v=N[r.icon]||h;return e.jsxs("div",{className:"flex-1 flex flex-col h-full bg-black animate-in fade-in duration-300",children:[e.jsx(C,{title:r.name,subtitle:`${c.length} notes in collection`,icon:e.jsx("div",{className:`px-2 rounded-xl bg-${r.color}-500/10 text-${r.color}-500 border border-${r.color}-500/20`,children:r.svgData?e.jsx("span",{dangerouslySetInnerHTML:{__html:r.svgData},className:"flex w-6 h-6"}):e.jsx(v,{size:24})}),onBack:f,searchValue:l,onSearchChange:j,searchPlaceholder:`Search in ${r.name}...`,viewMode:p,onViewChange:g,sortMode:i,onSortChange:t=>b(t),sortOptions:[{label:"Recently Updated",value:"updated"},{label:"Recently Created",value:"created"},{label:"Alphabetical",value:"title"}]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-zinc-600",children:[e.jsx(S,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No notes found."})]}):p==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(t=>e.jsxs("div",{onClick:()=>m(t),className:"group bg-zinc-900 border border-zinc-800 rounded-xl p-4 hover:border-indigo-500/50 transition-all cursor-pointer flex flex-col h-48 relative overflow-hidden shadow-sm hover:shadow-lg hover:shadow-indigo-500/5",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-br from-white/5 to-transparent rounded-bl-full -mr-8 -mt-8 pointer-events-none group-hover:scale-150 transition-transform"}),e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-bold text-sm text-zinc-200 group-hover:text-white line-clamp-2 pr-4",children:t.title}),t.isEncrypted&&e.jsx(u,{size:12,className:"text-zinc-500 shrink-0 mt-1"})]}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx("p",{className:"text-[10px] text-zinc-500 line-clamp-4 leading-relaxed",children:t.intent||"No intent defined."})}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-zinc-800/50 flex items-center justify-between",children:[e.jsxs("span",{className:"text-[10px] text-zinc-500 font-mono flex items-center gap-1",children:[e.jsx(w,{size:10})," ",new Date(t.updatedAt).toLocaleDateString()]}),t.tags.length>0&&e.jsxs("div",{className:"flex gap-1",children:[t.tags.slice(0,2).map(s=>{const a=x.find(o=>o.id===s);return a?e.jsx("span",{className:`w-1.5 h-1.5 rounded-full bg-${a.color}-500`,title:a.name},s):null}),t.tags.length>2&&e.jsxs("span",{className:"text-[9px] text-zinc-600",children:["+",t.tags.length-2]})]})]})]},t.id))}):e.jsx("div",{className:"space-y-1",children:d.map(t=>e.jsxs("button",{onClick:()=>m(t),className:"w-full flex items-center gap-4 p-3 rounded-lg border border-transparent hover:bg-zinc-900 hover:border-zinc-800 transition-all group text-left",children:[e.jsx("div",{className:"p-2 bg-zinc-900 rounded border border-zinc-800 text-zinc-500 group-hover:text-white group-hover:border-zinc-700",children:e.jsx(h,{size:16})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-zinc-300 group-hover:text-white truncate",children:t.title}),t.isEncrypted&&e.jsx(u,{size:12,className:"text-zinc-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("span",{className:"text-[10px] text-zinc-600 font-mono",children:["Updated ",new Date(t.updatedAt).toLocaleDateString()]}),t.intent&&e.jsxs("span",{className:"text-[10px] text-zinc-500 truncate max-w-[300px] hidden sm:block",children:["â€¢ ",t.intent]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:t.tags.map(s=>{const a=x.find(o=>o.id===s);return a?e.jsxs("span",{className:`text-[9px] px-1.5 py-0.5 rounded border ${z[a.color]}`,children:["#",a.name]},s):null})})]},t.id))})})]})};export{D as default};
