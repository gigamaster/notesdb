const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CalendarFilters-idg2uKQa.js","assets/index-KKYn1hr3.js","assets/vendor-B7FnPyzq.js","assets/index-DyUq36P8.css"])))=>i.map(i=>d[i]);
import{r as x,j as e,g as R,u as H,x as k,p as T,y as U,z as Y,m as M,o as G,s as S,n as q,A as B,_ as J}from"./index-KKYn1hr3.js";import{L as K}from"./layout-list-DwivkavC.js";import{L as Q}from"./layout-grid-CqX_rdE9.js";import"./vendor-B7FnPyzq.js";const X=M.lazy(()=>J(()=>import("./CalendarFilters-idg2uKQa.js"),__vite__mapDeps([0,1,2,3]))),Z=Array.from({length:24},(f,g)=>g),ne=({notes:f,categories:g,tags:_,onSelectNote:z,onNavigateView:p,onCreateEvent:w})=>{const[o,m]=x.useState(new Date),[h,v]=x.useState(new Set),[u,N]=x.useState(new Set),D=x.useMemo(()=>{const t=new Date(o),s=t.getDay(),a=t.getDate()-s+(s===0?-6:1);t.setDate(a),t.setHours(0,0,0,0);const l=[];for(let i=0;i<7;i++){const r=new Date(t);r.setDate(t.getDate()+i),l.push(r)}return l},[o]),L=x.useMemo(()=>f.filter(t=>!(h.size>0&&!h.has(t.categoryId)||u.size>0&&!t.tags.some(a=>u.has(a)))),[f,h,u]),$=t=>{const s=new Set(h);s.has(t)?s.delete(t):s.add(t),v(s)},A=t=>{const s=new Set(u);s.has(t)?s.delete(t):s.add(t),N(s)},F=()=>{v(new Set),N(new Set)},I=t=>t.eventDate||t.updatedAt||t.createdAt,P=(t,s)=>{const a=new Date(t);a.setHours(s,0,0,0);const l=new Date(t);return l.setHours(s+1,0,0,0),L.filter(i=>{const r=I(i);return r>=a.getTime()&&r<l.getTime()})},y=()=>{const t=new Date(o);t.setDate(t.getDate()-7),m(t)},C=()=>{const t=new Date(o);t.setDate(t.getDate()+7),m(t)},j=t=>{const s=new Date;return t.getDate()===s.getDate()&&t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()},W=()=>{var t;w?w(new Date):z({id:crypto.randomUUID(),title:"New Event Note",content:"",categoryId:(t=g[0])==null?void 0:t.id,tags:[],createdAt:Date.now(),updatedAt:Date.now(),eventDate:o.getTime(),originalData:null})},E=()=>{const t=o.getFullYear(),s=o.getMonth(),a=new Date(t,s,1),l=new Date(t,s+1,0).getDate(),i=a.getDay(),r=i===0?6:i-1,c=[];for(let n=0;n<r;n++)c.push(null);for(let n=1;n<=l;n++)c.push(new Date(t,s,n));return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-[10px] font-bold text-zinc-200",children:o.toLocaleString("default",{month:"long",year:"numeric"})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:y,className:"p-1 hover:bg-zinc-800 rounded text-zinc-400",children:e.jsx(k,{size:14})}),e.jsx("button",{onClick:()=>m(new Date),className:"text-[10px] px-2 bg-zinc-800 rounded text-zinc-300 hover:text-white",children:"Week"}),e.jsx("button",{onClick:C,className:"p-1 hover:bg-zinc-800 rounded text-zinc-400",children:e.jsx(T,{size:14})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["M","T","W","T","F","S","S"].map((n,d)=>e.jsx("span",{className:"text-[10px] text-zinc-600 font-bold",children:n},d))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:c.map((n,d)=>{if(!n)return e.jsx("div",{},d);const b=n.getDate()===o.getDate(),O=j(n);return e.jsx("button",{onClick:()=>m(n),className:`
                                  h-7 w-7 flex items-center justify-center rounded text-xs transition-colors
                                  ${b?"bg-indigo-600 text-white font-bold":"text-zinc-400 hover:bg-zinc-800"}
                                  ${O&&!b?"text-indigo-400 font-bold":""}
                              `,children:n.getDate()},d)})})]})};return e.jsxs("div",{className:"flex h-full bg-zinc-950 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"w-64 border-r border-zinc-800 flex flex-col bg-black/50 hidden md:flex",children:[e.jsx("div",{className:"min-h-16 p-3 border-b border-zinc-700",children:e.jsxs("button",{onClick:W,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white py-2 rounded-lg text-sm font-bold shadow-lg shadow-indigo-900/20 transition-all",children:[e.jsx(R,{size:16})," Create Event"]})}),e.jsxs("div",{className:"p-4 space-y-6 flex-1 overflow-y-auto custom-scrollbar",children:[e.jsx(E,{}),e.jsx(x.Suspense,{fallback:e.jsx("div",{className:"h-32 animate-pulse bg-zinc-900 rounded-xl"}),children:e.jsx(X,{categories:g,tags:_,selectedCategories:h,selectedTags:u,onToggleCategory:$,onToggleTag:A,onClear:F})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-zinc-950",children:[e.jsxs("div",{className:"h-16 border-b border-zinc-800 bg-zinc-900/50 backdrop-blur z-10 flex items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{size:20,className:"text-indigo-500"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:o.toLocaleString("default",{month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"flex bg-zinc-900 rounded-lg p-0.5 border border-zinc-800",children:[e.jsx("button",{onClick:y,className:"p-1.5 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white",children:e.jsx(k,{size:16})}),e.jsx("button",{onClick:()=>m(new Date),className:"px-3 text-xs font-bold text-zinc-300 hover:text-white",children:"Today"}),e.jsx("button",{onClick:C,className:"p-1.5 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white",children:e.jsx(T,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center bg-zinc-900 rounded-lg p-0.5 border border-zinc-800",children:[e.jsxs("button",{onClick:()=>p("day"),className:"px-3 py-1.5 rounded-md text-xs font-bold text-zinc-500 hover:text-zinc-300 flex items-center gap-2",children:[e.jsx(K,{size:14})," Day"]}),e.jsxs("button",{onClick:()=>p("week"),className:"px-3 py-1.5 rounded-md text-xs font-bold bg-zinc-800 text-white shadow-sm flex items-center gap-2",children:[e.jsx(U,{size:14})," Week"]}),e.jsxs("button",{onClick:()=>p("month"),className:"px-3 py-1.5 rounded-md text-xs font-bold text-zinc-500 hover:text-zinc-300 flex items-center gap-2",children:[e.jsx(Q,{size:14})," Month"]})]})]}),e.jsxs("div",{className:"grid grid-cols-[60px_repeat(7,1fr)] border-b border-zinc-800 bg-zinc-900/30 backdrop-blur z-10",children:[e.jsx("div",{className:"p-4 border-r border-zinc-800/50 flex items-end justify-center pb-2",children:e.jsx(Y,{size:16,className:"text-zinc-600"})}),D.map((t,s)=>{const a=j(t);return e.jsxs("div",{className:`p-3 text-center border-l border-zinc-800/50 flex flex-col items-center justify-end h-20 ${a?"bg-indigo-500/5":""}`,children:[e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider mb-1 ${a?"text-indigo-400":"text-zinc-500"}`,children:t.toLocaleDateString("default",{weekday:"short"})}),e.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center text-md font-bold ${a?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/40":"text-zinc-300"}`,children:t.getDate()})]},s)})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"grid grid-cols-[60px_repeat(7,1fr)] auto-rows-[minmax(80px,auto)]",children:Z.map(t=>e.jsxs(M.Fragment,{children:[e.jsx("div",{className:"border-r border-zinc-800/50 relative",children:e.jsx("span",{className:"absolute -top-2.5 right-2 text-[10px] font-mono text-zinc-600",children:t===0?"12 AM":t<12?`${t} AM`:t===12?"12 PM":`${t-12} PM`})}),D.map((s,a)=>{const l=P(s,t),i=j(s)&&new Date().getHours()===t;return e.jsxs("div",{className:`
                                            border-b border-r border-zinc-800/30 p-1 relative min-h-[80px] group transition-colors
                                            ${i?"bg-indigo-500/5":"hover:bg-zinc-900/30"}
                                        `,children:[i&&e.jsx("div",{className:"absolute left-0 right-0 border-t-2 border-indigo-500 z-10 pointer-events-none opacity-50",style:{top:`${new Date().getMinutes()/60*100}%`}}),e.jsx("div",{className:"flex flex-col gap-1 h-full",children:l.map(r=>{const c=g.find(b=>b.id===r.categoryId),n=c?G[c.color]:"bg-zinc-800 text-zinc-300 border-zinc-700",d=c&&S[c.icon]?S[c.icon]:q;return e.jsx(B,{content:r.title,children:e.jsxs("button",{onClick:()=>z(r),className:`
                                                                text-left text-xs p-1.5 rounded-md border shadow-sm transition-all hover:scale-[1.02] hover:shadow-md flex items-start gap-1.5 w-full
                                                                ${n}
                                                            `,children:[e.jsx(d,{size:12,className:"shrink-0 mt-0.5 opacity-70"}),e.jsx("span",{className:"truncate font-medium leading-tight",children:r.title})]})},r.id)})})]},`${a}-${t}`)})]},t))})})]})]})};export{ne as default};
