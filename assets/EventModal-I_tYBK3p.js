import{r as n,j as e,u as f,X as k,z as D,F as E,T as F,o as j,e as A,n as M,Z as R}from"./index-BewSTdif.js";import"./vendor-B7FnPyzq.js";const H=({initialDate:d,categories:i,tags:x,onClose:z,onSave:v})=>{const[r,N]=n.useState(""),[l,m]=n.useState(""),[p,u]=n.useState(""),[g,b]=n.useState(""),[a,y]=n.useState(new Set),[o,w]=n.useState(!1);n.useEffect(()=>{const t=d||new Date,s=t.getFullYear(),c=String(t.getMonth()+1).padStart(2,"0"),C=String(t.getDate()).padStart(2,"0");m(`${s}-${c}-${C}`);const T=String(t.getHours()).padStart(2,"0"),$=String(t.getMinutes()).padStart(2,"0");u(`${T}:${$}`),i.length>0&&b(i[0].id)},[d,i]);const h=t=>{if(!r.trim()||!l)return;const s=new Date(`${l}T${p||"00:00"}`);v({title:r,date:s.getTime(),categoryId:g,tags:Array.from(a)},t)},S=t=>{const s=new Set(a);s.has(t)?s.delete(t):s.add(t),y(s)};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"w-full max-w-md bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl overflow-hidden flex flex-col animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-800 bg-zinc-900/50",children:[e.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[e.jsx(f,{size:16,className:"text-indigo-400"}),"New Event"]}),e.jsx("button",{onClick:z,className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(k,{size:18})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsx("div",{className:"space-y-1",children:e.jsx("input",{value:r,onChange:t=>N(t.target.value),placeholder:"Event Title (e.g. Team Sync)",className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-zinc-300 focus:border-indigo-500 outline-none",autoFocus:!0})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[e.jsx(f,{size:12})," Date"]}),e.jsx("input",{type:"date",value:l,onChange:t=>m(t.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-zinc-300 focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[e.jsx(D,{size:12})," Time"]}),e.jsx("input",{type:"time",value:p,onChange:t=>u(t.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-zinc-300 focus:border-indigo-500 outline-none"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[e.jsx(E,{size:12})," Category"]}),e.jsx("select",{value:g,onChange:t=>b(t.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-zinc-300 focus:border-indigo-500 outline-none cursor-pointer",children:i.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]}),e.jsxs("div",{className:"space-y-1 relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"text-[10px] font-bold text-zinc-500 uppercase flex items-center gap-1",children:[e.jsx(F,{size:12})," Tags"]}),e.jsx("button",{onClick:()=>w(!o),className:"text-[10px] text-indigo-400 hover:text-indigo-300",children:o?"Done":"Select"})]}),o&&e.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-full bg-zinc-900 border border-zinc-800 rounded-xl shadow-xl p-2 z-10 max-h-40 overflow-y-auto",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(t=>e.jsxs("button",{onClick:()=>S(t.id),className:`px-2 py-1 rounded text-xs border transition-all flex items-center gap-1 ${a.has(t.id)?`${j[t.color]}`:"border-zinc-800 bg-zinc-950 text-zinc-500 hover:border-zinc-700"}`,children:[t.name,a.has(t.id)&&e.jsx(A,{size:10})]},t.id))})}),e.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[28px] p-2 bg-zinc-950 border border-zinc-800 rounded-lg",children:[a.size===0&&e.jsx("span",{className:"text-xs text-zinc-600 italic",children:"No tags selected"}),Array.from(a).map(t=>{const s=x.find(c=>c.id===t);return s?e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${j[s.color]}`,children:s.name},s.id):null})]})]})]})]}),e.jsxs("div",{className:"p-4 bg-zinc-950 border-t border-zinc-800 flex justify-end gap-3",children:[e.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 text-zinc-400 hover:text-white text-xs font-medium transition-colors flex items-center gap-2",children:[e.jsx(M,{size:14}),"Edit Details"]}),e.jsxs("button",{onClick:()=>h(!1),disabled:!r.trim(),className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg text-xs font-bold transition-all shadow-lg shadow-indigo-900/20",children:["Create Event",e.jsx(R,{size:14})]})]})]})})};export{H as default};
