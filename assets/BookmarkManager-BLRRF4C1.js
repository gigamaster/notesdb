const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BookmarkModal-mujQaaAY.js","assets/index-DboLLwwP.js","assets/vendor-B7FnPyzq.js","assets/index-DZ4kiucw.css","assets/LayoutManagerModal-BXB2UWAP.js","assets/Toast-B_dwJU6k.js"])))=>i.map(i=>d[i]);
import{c as F,r as n,d as i,j as e,a5 as R,Q as oe,a as I,g as M,A as T,a6 as re,G as O,a2 as ne,Z as ie,f as le,m as w,_ as k}from"./index-DboLLwwP.js";import{S as ce}from"./search-DXFRVerH.js";import"./vendor-B7FnPyzq.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],xe=F("settings-2",de);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],he=F("star",ue),me=w.lazy(()=>k(()=>import("./BookmarkModal-mujQaaAY.js"),__vite__mapDeps([0,1,2,3]))),fe=w.lazy(()=>k(()=>import("./LayoutManagerModal-BXB2UWAP.js"),__vite__mapDeps([4,1,2,3]))),ge=w.lazy(()=>k(()=>import("./Toast-B_dwJU6k.js"),__vite__mapDeps([5,1,2,3]))),ye=()=>{const[g,B]=n.useState([]),[o,l]=n.useState([]),[N,E]=n.useState(""),[A,b]=n.useState(!1),[d,U]=n.useState([]),[c,v]=n.useState("default"),[P,p]=n.useState(!1),[$,y]=n.useState(null),[G,h]=n.useState(!1),[m,S]=n.useState(null),[f,L]=n.useState(null),[V,j]=n.useState(!1);n.useEffect(()=>{z()},[]);const z=async()=>{const t=await i.getBookmarks();B(t);const s=await i.getSettings();if(U(s.savedBookmarkLayouts||[]),s.bookmarkLayout&&s.bookmarkLayout.length>0){const a=new Set(s.bookmarkLayout),r=t.filter(u=>a.has(u.id));r.sort((u,ae)=>s.bookmarkLayout.indexOf(u.id)-s.bookmarkLayout.indexOf(ae.id)),l(r)}else l(t.filter(a=>a.isFavorite))},H=async t=>{await i.saveBookmark(t),b(!1),z()},x=async t=>{const s=await i.getSettings();s.bookmarkLayout=t.map(a=>a.id),await i.saveSettings(s)},Q=async t=>{const s=t.target.value;if(v(s),s==="default")return;const a=d.find(r=>r.id===s);a&&C(a.bookmarkIds)},C=async t=>{const s=new Set(t),a=g.filter(r=>s.has(r.id));a.sort((r,u)=>t.indexOf(r.id)-t.indexOf(u.id)),l(a),await x(a)},D=n.useMemo(()=>{if(o.length===0)return!1;if(c==="default")return!0;const t=d.find(a=>a.id===c);if(!t)return!0;const s=o.map(a=>a.id);if(t.bookmarkIds.length!==s.length)return!0;for(let a=0;a<s.length;a++)if(s[a]!==t.bookmarkIds[a])return!0;return!1},[o,c,d]),Z=()=>{o.length!==0&&h(!0)},q=async()=>{l([]),await x([]),v("default"),h(!1),S({show:!0,msg:"Layout reset. Start fresh.",type:"info"})},_=()=>{if(c!=="default"){const t=d.find(s=>s.id===c);y(t||null)}else y(null);p(!0),h(!1)},J=()=>{y(null),p(!0)},K=async t=>{const s=o.some(r=>r.id===t.id);let a=[];s?a=o.filter(r=>r.id!==t.id):a=[...o,t],l(a),await x(a),await i.saveBookmark({...t,isFavorite:!s})},W=(t,s)=>{L(s),t.dataTransfer.effectAllowed="copy"},X=t=>{t.preventDefault(),j(!0)},Y=()=>{j(!1)},ee=async t=>{if(t.preventDefault(),j(!1),f&&!o.find(s=>s.id===f.id)){const s=[...o,f];l(s),await x(s),await i.saveBookmark({...f,isFavorite:!0})}L(null)},te=async t=>{const s=o.filter(r=>r.id!==t);l(s),await x(s);const a=g.find(r=>r.id===t);a&&await i.saveBookmark({...a,isFavorite:!1})},se=g.filter(t=>t.title.toLowerCase().includes(N.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-950",children:[e.jsxs(n.Suspense,{fallback:null,children:[A&&e.jsx(me,{onClose:()=>b(!1),onSave:H}),P&&e.jsx(fe,{currentLayoutIds:o.map(t=>t.id),onClose:()=>p(!1),onUpdateList:z,initialLayout:$,onSelect:t=>{C(t.bookmarkIds),v(t.id)}}),m&&m.show&&e.jsx(ge,{message:m.msg,type:m.type,onClose:()=>S(null)})]}),G&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"w-full max-w-sm bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl p-6 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 text-white",children:[e.jsx("div",{className:"p-2 bg-zinc-800 rounded-full text-zinc-400",children:e.jsx(R,{size:20})}),e.jsx("h3",{className:"text-lg font-bold",children:"Reset Dashboard?"})]}),e.jsxs("p",{className:"text-sm text-zinc-400 mb-6 leading-relaxed",children:["This will remove all bookmarks from your current dashboard view.",D&&e.jsxs("span",{className:"block mt-2 text-amber-400 flex items-center gap-1.5 font-medium bg-amber-500/10 p-2 rounded border border-amber-500/20",children:[e.jsx(oe,{size:14})," Unsaved changes detected."]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[D&&e.jsxs("button",{onClick:_,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-xs font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(I,{size:14})," Save Layout First"]}),e.jsx("button",{onClick:q,className:"w-full py-2 bg-zinc-800 hover:bg-red-900/30 hover:text-red-400 text-zinc-300 rounded-lg text-xs font-bold transition-colors border border-transparent hover:border-red-900/50",children:"Clear Board"}),e.jsx("button",{onClick:()=>h(!1),className:"w-full py-2 text-zinc-500 hover:text-white text-xs font-medium mt-1",children:"Cancel"})]})]})}),e.jsxs("header",{className:"min-h-16 flex items-center border-b border-zinc-700 px-6 justify-between bg-black z-10 relative",children:[e.jsx("div",{className:"flex items-center gap-3 w-80",children:e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 border border-zinc-700 rounded-lg text-xs font-bold transition-colors",children:[e.jsx(M,{size:14})," Create New Bookmark"]})}),e.jsx("div",{className:"w-px h-10 bg-zinc-800"}),e.jsxs("div",{className:"flex flex-1 justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard Layout"}),e.jsx("p",{className:"text-[10px] text-zinc-400 leading-tight",children:"Customize your dashboard grid. Save layouts to switch contexts."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:c,onChange:Q,className:"bg-black border border-zinc-700 rounded text-xs text-white px-2 py-1.5 outline-none focus:border-indigo-500 w-40",children:[e.jsx("option",{value:"default",children:"Default"}),d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(T,{content:"Manage Layouts",children:e.jsx("button",{onClick:J,className:"p-1.5 bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-white rounded transition-colors border border-zinc-700",children:e.jsx(xe,{size:14})})}),e.jsxs("button",{onClick:_,disabled:o.length===0,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs text-white bg-indigo-600 hover:bg-indigo-500 rounded font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(I,{size:12}),c==="default"?"Save as layout":"Update Layout"]}),e.jsx("div",{className:"w-px h-6 bg-zinc-800 mx-1"}),e.jsx(T,{content:"Reset layout to empty",children:e.jsxs("button",{onClick:Z,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs text-white rounded font-bold transition-colors  bg-zinc-800 rounded transition-colors flex items-center ${o.length===0?"text-zinc-600 disabled:opacity-50 cursor-not-allowed":"bg-red-500/20 text-red-500 hover:text-red-400"}`,disabled:o.length===0,children:[e.jsx(R,{size:14})," Reset Layout"]})})]})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"w-80 border-r border-zinc-800 flex flex-col bg-black",children:[e.jsx("div",{className:"p-4 border-b border-zinc-800",children:e.jsxs("div",{className:"relative",children:[e.jsx(ce,{size:12,className:"absolute left-3 top-2.5 text-zinc-500"}),e.jsx("input",{value:N,onChange:t=>E(t.target.value),placeholder:"Search repository...",className:"w-full bg-zinc-900 border border-zinc-700 rounded-lg py-2 pl-9 pr-2 text-xs text-white focus:border-indigo-500 outline-none"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:se.map(t=>{const s=o.some(a=>a.id===t.id);return e.jsxs("div",{draggable:!0,onDragStart:a=>W(a,t),className:`group flex items-center justify-between p-2 rounded-lg border cursor-grab active:cursor-grabbing transition-all ${s?"bg-indigo-900/10 border-indigo-500/20":"bg-zinc-900 border-zinc-800 hover:border-zinc-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx(re,{size:12,className:"text-zinc-600 shrink-0"}),t.faviconUrl?e.jsx("img",{src:t.faviconUrl,className:"w-4 h-4 rounded-sm"}):e.jsx(O,{size:14,className:"text-zinc-500"}),e.jsx("span",{className:`text-xs truncate ${s?"text-indigo-200":"text-zinc-300"}`,children:t.title})]}),e.jsx("button",{onClick:()=>K(t),className:`p-1 rounded hover:bg-zinc-800 transition-colors ${s?"text-indigo-400":"text-zinc-600 hover:text-zinc-400"}`,children:e.jsx(he,{size:12,fill:s?"currentColor":"none"})})]},t.id)})})]}),e.jsx("div",{className:"flex-1 bg-zinc-950/50 p-8 overflow-y-auto",onDragOver:X,onDragLeave:Y,onDrop:ee,children:e.jsxs("div",{className:"max-w-5xl mx-auto h-full flex flex-col",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-2 text-zinc-500 text-xs shrink-0",children:[e.jsx(ne,{size:14}),e.jsx("span",{className:"uppercase font-bold tracking-wider",children:"Dashboard Grid Preview"})]}),o.length===0?e.jsxs("div",{className:`flex-1 min-h-[300px] border-2 border-dashed border-zinc-700 rounded-lg flex flex-col items-center justify-center text-zinc-500 transition-all hover:border-zinc-700 hover:bg-zinc-500/20 transition-all ${V?"bg-indigo-800/20 hover:bg-zinc-600/20 ring-inset ring-2 ring-indigo-500/40":""}`,children:[e.jsx(ie,{size:32,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-sm font-medium",children:"Drag bookmarks here to pin them to the Dashboard."})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pb-20",children:[o.map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4 relative group hover:border-indigo-500/50 transition-colors shadow-sm",children:[e.jsx("button",{onClick:()=>te(t.id),className:"absolute top-2 right-2 p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-500/20 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(le,{size:12})}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.faviconUrl?e.jsx("img",{src:t.faviconUrl,className:"w-8 h-8 rounded-md bg-white p-0.5"}):e.jsx("div",{className:"w-8 h-8 bg-zinc-800 rounded-md flex items-center justify-center",children:e.jsx(O,{size:16,className:"text-zinc-500"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h4",{className:"text-sm font-bold text-zinc-200 truncate",children:t.title}),e.jsx("p",{className:"text-[10px] text-zinc-500 truncate",children:(()=>{try{return new URL(t.url).hostname}catch{return t.url}})()})]})]})]},t.id)),e.jsx("div",{className:"border-2 border-dashed border-zinc-500/50 rounded-xl flex items-center justify-center text-zinc-600 min-h-[100px] opacity-50",children:e.jsx(M,{size:32})})]})]})})]})]})};export{ye as default};
