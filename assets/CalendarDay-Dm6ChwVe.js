const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CalendarFilters-idg2uKQa.js","assets/index-KKYn1hr3.js","assets/vendor-B7FnPyzq.js","assets/index-DyUq36P8.css"])))=>i.map(i=>d[i]);
import{r as c,j as e,g as O,u as U,x as k,p as T,y as W,o as G,s as S,n as Y,z as q,m as B,_ as J}from"./index-KKYn1hr3.js";import{L as K}from"./layout-list-DwivkavC.js";import{L as Q}from"./layout-grid-CqX_rdE9.js";import"./vendor-B7FnPyzq.js";const X=B.lazy(()=>J(()=>import("./CalendarFilters-idg2uKQa.js"),__vite__mapDeps([0,1,2,3]))),Z=Array.from({length:24},(f,d)=>d),ne=({notes:f,categories:d,tags:M,onSelectNote:j,onNavigateView:u,onCreateEvent:w})=>{const[a,l]=c.useState(new Date),b=c.useRef(null),[x,z]=c.useState(new Set),[g,v]=c.useState(new Set);c.useEffect(()=>{b.current&&(b.current.scrollTop=800)},[]);const L=c.useMemo(()=>f.filter(t=>!(x.size>0&&!x.has(t.categoryId)||g.size>0&&!t.tags.some(r=>g.has(r)))),[f,x,g]),_=t=>{const n=new Set(x);n.has(t)?n.delete(t):n.add(t),z(n)},A=t=>{const n=new Set(g);n.has(t)?n.delete(t):n.add(t),v(n)},I=()=>{z(new Set),v(new Set)},D=t=>t.eventDate||t.updatedAt||t.createdAt,P=t=>{const n=new Date(a);n.setHours(t,0,0,0);const r=new Date(a);return r.setHours(t+1,0,0,0),L.filter(o=>{const i=D(o);return i>=n.getTime()&&i<r.getTime()})},F=()=>{const t=new Date(a);t.setDate(t.getDate()-1),l(t)},H=()=>{const t=new Date(a);t.setDate(t.getDate()+1),l(t)},N=t=>{var r;const n=new Date(a);t!==void 0&&n.setHours(t),w?w(n):j({id:crypto.randomUUID(),title:"New Event",content:"",categoryId:(r=d[0])==null?void 0:r.id,tags:[],createdAt:Date.now(),updatedAt:Date.now(),eventDate:n.getTime(),originalData:null})},R=()=>{const t=a.getFullYear(),n=a.getMonth(),r=new Date(t,n,1),o=new Date(t,n+1,0).getDate(),i=r.getDay(),p=i===0?6:i-1,m=[];for(let s=0;s<p;s++)m.push(null);for(let s=1;s<=o;s++)m.push(new Date(t,n,s));return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-[10px] font-bold text-zinc-200",children:a.toLocaleString("default",{month:"long",year:"numeric"})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>{const s=new Date(a);s.setMonth(s.getMonth()-1),l(s)},className:"p-1 hover:bg-zinc-800 rounded text-zinc-400",children:e.jsx(k,{size:14})}),e.jsx("button",{onClick:()=>l(new Date),className:"text-[10px] px-2 bg-zinc-800 rounded text-zinc-300 hover:text-white",children:"Today"}),e.jsx("button",{onClick:()=>{const s=new Date(a);s.setMonth(s.getMonth()+1),l(s)},className:"p-1 hover:bg-zinc-800 rounded text-zinc-400",children:e.jsx(T,{size:14})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["M","T","W","T","F","S","S"].map((s,h)=>e.jsx("span",{className:"text-[10px] text-zinc-600 font-bold",children:s},h))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:m.map((s,h)=>{if(!s)return e.jsx("div",{},h);const y=s.getDate()===a.getDate(),E=s.getDate()===new Date().getDate()&&n===new Date().getMonth();return e.jsx("button",{onClick:()=>{const C=new Date(a);C.setDate(s.getDate()),l(C)},className:`
                                  h-7 w-7 flex items-center justify-center rounded text-xs transition-colors
                                  ${y?"bg-indigo-600 text-white font-bold":"text-zinc-400 hover:bg-zinc-800"}
                                  ${E&&!y?"text-indigo-400 font-bold":""}
                              `,children:s.getDate()},h)})})]})},$=a.toDateString()===new Date().toDateString();return e.jsxs("div",{className:"flex h-full bg-zinc-950 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"w-64 border-r border-zinc-800 flex flex-col bg-black/50 hidden md:flex",children:[e.jsx("div",{className:"min-h-16 p-3 border-b border-zinc-700",children:e.jsxs("button",{onClick:()=>N(),className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white py-2 rounded-lg text-sm font-bold shadow-lg shadow-indigo-900/20 transition-all",children:[e.jsx(O,{size:16})," Create Event"]})}),e.jsxs("div",{className:"p-4 space-y-6 flex-1 overflow-y-auto custom-scrollbar",children:[e.jsx(R,{}),e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"h-32 animate-pulse bg-zinc-900 rounded-xl"}),children:e.jsx(X,{categories:d,tags:M,selectedCategories:x,selectedTags:g,onToggleCategory:_,onToggleTag:A,onClear:I})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-zinc-950",children:[e.jsxs("div",{className:"h-16 border-b border-zinc-800 bg-zinc-900/50 backdrop-blur z-10 flex items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{size:20,className:"text-indigo-500"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:a.toLocaleString("default",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"flex bg-zinc-900 rounded-lg p-0.5 border border-zinc-800",children:[e.jsx("button",{onClick:F,className:"p-1.5 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white",children:e.jsx(k,{size:16})}),e.jsx("button",{onClick:()=>l(new Date),className:"px-3 text-xs font-bold text-zinc-300 hover:text-white",children:"Today"}),e.jsx("button",{onClick:H,className:"p-1.5 hover:bg-zinc-800 rounded text-zinc-400 hover:text-white",children:e.jsx(T,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center bg-zinc-900 rounded-lg p-0.5 border border-zinc-800",children:[e.jsxs("button",{onClick:()=>u("day"),className:"px-3 py-1.5 rounded-md text-xs font-bold bg-zinc-800 text-white shadow-sm flex items-center gap-2",children:[e.jsx(K,{size:14})," Day"]}),e.jsxs("button",{onClick:()=>u("week"),className:"px-3 py-1.5 rounded-md text-xs font-bold text-zinc-500 hover:text-zinc-300 flex items-center gap-2",children:[e.jsx(W,{size:14})," Week"]}),e.jsxs("button",{onClick:()=>u("month"),className:"px-3 py-1.5 rounded-md text-xs font-bold text-zinc-500 hover:text-zinc-300 flex items-center gap-2",children:[e.jsx(Q,{size:14})," Month"]})]})]}),e.jsx("div",{ref:b,className:"flex-1 overflow-y-auto custom-scrollbar relative",children:Z.map(t=>{const n=P(t),r=$&&new Date().getHours()===t;return e.jsxs("div",{className:"flex min-h-16 border-b border-zinc-800/50 group relative",children:[e.jsx("div",{className:"w-16 border-r border-zinc-800/50 p-2 text-right",children:e.jsx("span",{className:"text-xs font-mono text-zinc-500",children:t===0?"12 AM":t<12?`${t} AM`:t===12?"12 PM":`${t-12} PM`})}),e.jsxs("div",{className:`flex-1 px-9 py-2 relative transition-colors ${r?"bg-indigo-500/5":"hover:bg-zinc-900/30"}`,onClick:()=>N(t),children:[r&&e.jsx("div",{className:"absolute left-0 right-0 border-t-2 border-indigo-500 z-10 pointer-events-none flex items-center",style:{top:`${new Date().getMinutes()/60*100}%`},children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 -ml-1"})}),e.jsx("div",{className:"space-y-1",children:n.map(o=>{const i=d.find(s=>s.id===o.categoryId),p=i?G[i.color]:"bg-zinc-800 text-zinc-300 border-zinc-700",m=i&&S[i.icon]?S[i.icon]:Y;return e.jsxs("div",{onClick:s=>{s.stopPropagation(),j(o)},className:`
                                                    px-4 py-2 rounded-lg border shadow-sm cursor-pointer transition-all hover:scale-[1.01] hover:shadow-md
                                                    flex items-start gap-2
                                                    ${p}
                                                `,children:[e.jsx("div",{className:"p-1.5 bg-black/20 rounded-md",children:e.jsx(m,{size:16})}),e.jsxs("div",{className:"flex flex-1 items-center justify-between min-w-0",children:[e.jsx("h4",{className:"font-bold text-sm truncate",children:o.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 opacity-80 text-xs",children:[e.jsxs("span",{className:"font-mono flex items-center gap-1",children:[e.jsx(q,{size:10}),new Date(D(o)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),i&&e.jsxs("span",{children:["â€¢ ",i.name]})]}),o.intent&&e.jsxs("p",{className:"text-[10px] mt-2 opacity-70 line-clamp-1 italic border-l-2 border-white/20 pl-2",children:['"',o.intent,'"']})]})]},o.id)})})]})]},t)})})]})]})};export{ne as default};
